<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="renderer" content="webkit"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no,minimal-ui"><meta name="format-detection" content="telephone=no"><meta name="author" content="Track13,1262914934@qq.com"><meta name="apple-mobile-web-app-title" content="宅日记"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta http-equiv="x-dns-prefetch-control" content="on"><meta name="keywords" content="gal,动画,田中罗密欧"><meta name="description " content="博主日常记事,碎碎念,更新日志"><meta content="#fff" name="theme-color"><link href="https://crosschannel.cc/" rel="canonical"><link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml"><link rel="shortcut icon" type="image/ico" href="/favicon.ico"><title>2020年更新日志 | 宅日记</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/track23/blog-static/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><link rel="dns-prefetch" href="https://gravatar.loli.net"><meta name="generator" content="Hexo 5.2.0"></head><body><script>var metaNode=document.querySelector('meta[name="theme-color"]');"1"===localStorage.getItem("dark")?(document.body.classList.add("dark"),metaNode.setAttribute("content","#282c34")):21<=(new Date).getHours()||(new Date).getHours()<7?(document.body.classList.add("dark"),metaNode.setAttribute("content","#282c34")):matchMedia("(prefers-color-scheme: dark)").matches&&(document.body.classList.add("dark"),metaNode.setAttribute("content","#282c34"))</script><div class="loading-bar"><div class="progress"></div></div><div id="site" class="site"><div id="sidebar" class="sidebar"><header id="header" class="site-header"><div class="site-branding"><h1 class="site-title"> <a href="/" rel="home">宅日记</a></h1><p class="site-description">一个不知名懒肥宅的自留地</p> <button class="secondary-toggle icon-menu">Menu and widgets</button></div></header><div id="secondary" class="secondary"><nav class="main-navigation"><ul id="menu-demo-menu" class="nav-menu"><li class="menu-item"><a href="/categories/gal/">galgame</a></li><li class="menu-item"><a href="/categories/%E5%8A%A8%E7%94%BB/">动画</a></li><li class="menu-item"><a href="/categories/%E6%97%A5%E5%B8%B8/">日常</a></li><li class="menu-item"><a href="/aboutme.html">关于</a></li><li class="menu-item"><a href="/links.html">友链</a></li></ul></nav><div class="header-music"><meting-js id="2382854733" server="netease" type="playlist" order="random" volume="0.3" preload="none" list-max-height="200px" list-folded="true" lrc-type="false" theme="#00b9f1"></meting-js></div><aside class="widget"><form id="search-form" method="get" action="/search.html"> <input id="local-search-input" type="search" class="search-field" placeholder="Search …" value="" name="s"></form></aside><aside class="widget"><h3 class="widget-title">标签云</h3><div id="tags-cloud"><a href="/tags/Hexo/" style="font-size:16.67px">Hexo</a> <a href="/tags/%E4%BA%BA%E7%B1%BB%E5%9C%A3%E7%BB%8F/" style="font-size:10px">人类圣经</a> <a href="/tags/%E5%85%A8%E5%B9%B4%E9%BE%84/" style="font-size:20px">全年龄</a> <a href="/tags/%E5%9E%8B%E6%9C%88/" style="font-size:10px">型月</a> <a href="/tags/%E5%A5%88%E9%A1%BB%E8%98%91%E8%8F%87/" style="font-size:10px">奈须蘑菇</a> <a href="/tags/%E6%B2%BB%E6%84%88/" style="font-size:11.67px">治愈</a> <a href="/tags/%E6%BF%91%E6%88%B7%E5%8F%A3%E5%BB%89%E4%B9%9F/" style="font-size:16.67px">濑户口廉也</a> <a href="/tags/%E7%94%B0%E4%B8%AD%E7%BD%97%E5%AF%86%E6%AC%A7/" style="font-size:18.33px">田中罗密欧</a> <a href="/tags/%E7%A5%9E%E4%BD%9C/" style="font-size:15px">神作</a> <a href="/tags/%E7%BE%BD%E6%B5%B7%E9%87%8E%E5%8D%83%E8%8A%B1/" style="font-size:13.33px">羽海野千花</a> <a href="/tags/%E8%87%B4%E9%83%81/" style="font-size:16.67px">致郁</a> <a href="/tags/%E9%83%BD%E5%90%88%E4%B8%BB%E4%B9%89/" style="font-size:10px">都合主义</a></div></aside></div></div><div id="content" class="site-content"><main id="main" class="site-main" role="main"><script defer="defer" src="https://zz.bdstatic.com/linksubmit/push.js"></script><article class="hentry has-post-thumbnail"><div style="background:#000;color:#dadada;width:2.3em;position:relative;left:10%;text-align:center;font-size:1.2em;margin-bottom:2.4em">置顶</div><header class="entry-header"><h2 class="entry-title"><a class="post-title-link" href="/daily/2020.html" rel="bookmark">2020年更新日志</a></h2></header><div class="entry-content"><p>更新时间：10月 9日</p><p>完全移除jQuery依赖，一屏幕的$符，改起来要命，明明不是我写的，为什么要让我承受这些。<del>然而博客速度不变</del></p><p>博客迁移到vercel，coding实在太卡，博客已经搬了4次了。。。</p><p>hexo，hexo-cli升级到最新版本，之前2年没有更新。前段时间更新了node版本，旧版hexo在node14下生成的文件都是0kb。</p><a id="more"></a><div class="admonition note"><p class="admonition-title">tips</p><p>最初只是个无意义的页面。但是因为是置顶经常有人点进来，也许是对更新时的改动有兴趣。</p><p>以后每次都会带上所使用的库或者教程文章地址。</p></div><p><img src="https://cdn.jsdelivr.net/gh/track23/blog-static/img/lazy.png" data-original="/images/ls.png" alt="流下了没有技术的泪水"></p><p>更新时间：4月 18日</p><p>修复基于leancloud的文章阅读次数401错误</p><p>完善pjax体验</p><p>使用pjax后动态插入的a标签是不会开启pjax的,使用pjax.refresh(newContent)可解决。</p><p>2020/04/17 发现调用leancloud的api出现401，看了官网后发现国际版和国内版独立了，api域名不再共享。临时把文章阅读统计切换到国内版（之前说要备案就迁移到国际版，今天测试发现valine和文章统计不受影响）</p><p>目前就发现leancloud国内节点的云引擎绑定域名需要备案,不影响valine-admin使用。</p><p>更新时间：2月 2日</p><p>已全站支持pjax，听bgm换页两不误。内存爆炸，不知道会不会卡。</p><p>博客使用的metingJS升级到2.0版本。重写404页。</p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/MoOx/pjax">Moox/pjax</a> 无jQuery依赖。</p><p>更新时间：1月 27日</p><p>博客迁移到coding。对cloudflare不熟，暂时放弃。</p><p>修复动态插入js时偷懒遗留的bug。</p><p>更新时间：1月 2日</p><p>延迟了valine的加载,避免了打开页面时请求爆炸。</p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.skk.moe/post/prevent-disqus-from-slowing-your-site/">使评论不再拖累性能和页面加载–by skk</a></p></div><div class="entry-comments"><div class="comment"></div><script>var entry=document.getElementsByClassName("entry-comments")[0];function loadValine(){var n=document.createElement("script");n.type="text/javascript",n.onload=n.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(ldcallBack(),n.onload=n.onreadystatechange=null)},n.src="https://cdn.jsdelivr.net/gh/track23/blog-static/Valine.min.js",entry.appendChild(n)}function ldcallBack(){new Valine({el:".comment",lang:"zh-cn",emoticon_url:"https://cdn.jsdelivr.net/gh/track23/blog-static/alu",emoticon_list:["吐.png","喷血.png","狂汗.png","不说话.png","汗.png","坐等.png","献花.png","不高兴.png","中刀.png","害羞.png","皱眉.png","小眼睛.png","中指.png","尴尬.png","瞅你.png","想一想.png","中枪.png","得意.png","肿包.png","扇耳光.png","亲亲.png","惊喜.png","脸红.png","无所谓.png","便便.png","愤怒.png","蜡烛.png","献黄瓜.png","内伤.png","投降.png","观察.png","看不见.png","击掌.png","抠鼻.png","邪恶.png","看热闹.png","口水.png","抽烟.png","锁眉.png","装大款.png","吐舌.png","无奈.png","长草.png","赞一个.png","呲牙.png","无语.png","阴暗.png","不出所料.png","咽气.png","期待.png","高兴.png","吐血倒地.png","哭泣.png","欢呼.png","黑线.png","喜极而泣.png","喷水.png","深思.png","鼓掌.png","暗地观察.png"],app_id:"UqKcJNE0cBerSu52yLvC1qVs-gzGzoHsz",app_key:"cUR3tOdrBA0ULbONb8sfOipw",placeholder:"Write a Comment",admin_email_hash:"ed69c6079398441b73dbfdbbfc8cd196",max_nest:2,page_size:5})}var runningOnBrowser="undefined"!=typeof window,isBot=runningOnBrowser&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro|msn)bot|crawl|spider|yand|duckgo/i.test(navigator.userAgent),supportsIntersectionObserver=runningOnBrowser&&"IntersectionObserver"in window;setTimeout(function(){if(!isBot&&supportsIntersectionObserver){var e=new IntersectionObserver(function(n){n[0].isIntersecting&&(loadValine(),e.disconnect())},{threshold:[0]});e.observe(entry)}else loadValine()},1)</script></div><footer class="entry-footer"> <span class="icon-calendar"><a href="" rel="bookmark"><time class="updated" datetime="2020-01-02T13:12:00.000Z">2020-01-02</time></a></span> <span class="icon-folder"><a href="/categories/%E6%97%A5%E5%B8%B8/" rel="category tag">日常</a></span> <span class="icon-tags"><a href="/tags/Hexo/" rel="category tag">Hexo</a></span><span class="icon-eye"><span id="/daily/2020.html" class="leancloud_visitors" data-flag-title="2020年更新日志"></span></span></footer></article></main></div><footer id="colophon" class="site-footer"><div class="site-info"> <span>powered by <a href="https://hexo.io/" rel="external nofollow noreferrer" target="_blank">Hexo</a>&nbsp;&nbsp; theme by <a href="https://github.com/Troy-Yang/hexo-theme-twentyfifteen-wordpress" rel="external nofollow noreferrer" target="_blank">Troy</a> &nbsp; inspired by <a href="https://wordpress.org/themes/" rel="external nofollow noreferrer" target="_blank">wordpress</a></span></div><div class="xm" role="button">暗色模式开关</div><div id="landlord"><div class="message" style="opacity:0"></div><canvas id="live2d" width="220" height="340" class="live2d"></canvas></div><div class="misc"> <a href="#main"><span class="icon-angle-circled-up">Top</span></a></div></footer></div><script async pjax-reload src="https://hm.baidu.com/hm.js?6e7c5cd833e842d7c53b95ef61c1c5a5"></script><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@3.0.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script defer="defer" src="/js/track13.min.js"></script><script>window.imageLazyLoadSetting={isSPA:!1,processImages:null}</script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})})</script><script>!function(n){n.imageLazyLoadSetting.processImages=i;var e=n.imageLazyLoadSetting.isSPA,l=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function i(){e&&(l=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var r=0;r<l.length;r++)0<=(t=l[r].getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight||document.documentElement.clientHeight)&&function(t){var e,n,i,o,a=l[r];e=a,n=function(){l=l.filter(function(t){return a!==t})},i=new Image,o=e.getAttribute("data-original"),i.onload=function(){e.src=o,n()},i.src=o}();var t}i(),n.addEventListener("scroll",function(){var t,e;t=i,e=n,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this)</script></body></html>