<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="renderer" content="webkit"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no,minimal-ui"><meta name="format-detection" content="telephone=no"><meta name="author" content="Track13,1262914934@qq.com"><meta name="apple-mobile-web-app-title" content="宅日记"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta http-equiv="x-dns-prefetch-control" content="on"><meta name="keywords" content="Hexo,静态博客,暗色模式,夜间模式,深色模式"><meta name="description " content="面向小白的静态博客添加暗色模式教程"><meta content="#fff" name="theme-color"><link href="https://crosschannel.cc/" rel="canonical"><link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml"><link rel="shortcut icon" type="image/ico" href="/favicon.ico"><title>面向小白的Hexo添加暗色模式教程 | 宅日记</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/track23/blog-static/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><link rel="dns-prefetch" href="https://gravatar.loli.net"><meta name="generator" content="Hexo 5.2.0"></head><body><script>var metaNode=document.querySelector('meta[name="theme-color"]');"1"===localStorage.getItem("dark")?(document.body.classList.add("dark"),metaNode.setAttribute("content","#282c34")):21<=(new Date).getHours()||(new Date).getHours()<7?(document.body.classList.add("dark"),metaNode.setAttribute("content","#282c34")):matchMedia("(prefers-color-scheme: dark)").matches&&(document.body.classList.add("dark"),metaNode.setAttribute("content","#282c34"))</script><div class="loading-bar"><div class="progress"></div></div><div id="site" class="site"><div id="sidebar" class="sidebar"><header id="header" class="site-header"><div class="site-branding"><h1 class="site-title"> <a href="/" rel="home">宅日记</a></h1><p class="site-description">一个不知名懒肥宅的自留地</p> <button class="secondary-toggle icon-menu">Menu and widgets</button></div></header><div id="secondary" class="secondary"><nav class="main-navigation"><ul id="menu-demo-menu" class="nav-menu"><li class="menu-item"><a href="/categories/gal/">galgame</a></li><li class="menu-item"><a href="/categories/%E5%8A%A8%E7%94%BB/">动画</a></li><li class="menu-item"><a href="/categories/%E6%97%A5%E5%B8%B8/">日常</a></li><li class="menu-item"><a href="/aboutme.html">关于</a></li><li class="menu-item"><a href="/links.html">友链</a></li></ul></nav><div class="header-music"><meting-js id="2382854733" server="netease" type="playlist" order="random" volume="0.3" preload="none" list-max-height="200px" list-folded="true" lrc-type="false" theme="#00b9f1"></meting-js></div><aside class="widget"><form id="search-form" method="get" action="/search.html"> <input id="local-search-input" type="search" class="search-field" placeholder="Search …" value="" name="s"></form></aside><aside class="widget"><h3 class="widget-title">标签云</h3><div id="tags-cloud"><a href="/tags/Hexo/" style="font-size:16.67px">Hexo</a> <a href="/tags/%E4%BA%BA%E7%B1%BB%E5%9C%A3%E7%BB%8F/" style="font-size:10px">人类圣经</a> <a href="/tags/%E5%85%A8%E5%B9%B4%E9%BE%84/" style="font-size:20px">全年龄</a> <a href="/tags/%E5%9E%8B%E6%9C%88/" style="font-size:10px">型月</a> <a href="/tags/%E5%A5%88%E9%A1%BB%E8%98%91%E8%8F%87/" style="font-size:10px">奈须蘑菇</a> <a href="/tags/%E6%B2%BB%E6%84%88/" style="font-size:11.67px">治愈</a> <a href="/tags/%E6%BF%91%E6%88%B7%E5%8F%A3%E5%BB%89%E4%B9%9F/" style="font-size:16.67px">濑户口廉也</a> <a href="/tags/%E7%94%B0%E4%B8%AD%E7%BD%97%E5%AF%86%E6%AC%A7/" style="font-size:18.33px">田中罗密欧</a> <a href="/tags/%E7%A5%9E%E4%BD%9C/" style="font-size:15px">神作</a> <a href="/tags/%E7%BE%BD%E6%B5%B7%E9%87%8E%E5%8D%83%E8%8A%B1/" style="font-size:13.33px">羽海野千花</a> <a href="/tags/%E8%87%B4%E9%83%81/" style="font-size:16.67px">致郁</a> <a href="/tags/%E9%83%BD%E5%90%88%E4%B8%BB%E4%B9%89/" style="font-size:10px">都合主义</a></div></aside></div></div><div id="content" class="site-content"><main id="main" class="site-main" role="main"><script defer="defer" src="https://zz.bdstatic.com/linksubmit/push.js"></script><article class="hentry"><header class="entry-header"><h2 class="entry-title"><a class="post-title-link" href="/daily/hexo%E6%B7%BB%E5%8A%A0%E6%9A%97%E8%89%B2%E6%A8%A1%E5%BC%8F.html" rel="bookmark">面向小白的Hexo添加暗色模式教程</a></h2></header><div class="entry-content"><p><img src="https://cdn.jsdelivr.net/gh/track23/blog-static/img/lazy.png" data-original="https://pic.rmb.bdstatic.com/4319071cbda8fa028050d2585a7654c2.jpeg" alt="美少女万华镜4"></p><p>OPPO手机都有暗色模式了，你的博客居然还没有。<br><a id="more"></a></p><div class="admonition note"><p class="admonition-title">更新记录</p><p>2020/04/17</p><p>目前安卓上就chrome能正常使用媒体查询。其他浏览器即使内核支持但是没效果。</p></div><p>转载请带上出处，别用没有照抄这个理由来敷衍我。</p><p>封面与内容无关，我找不到好看的封面图了。<img src="https://cdn.jsdelivr.net/gh/track23/blog-static/img/lazy.png" data-original="https://cdn.jsdelivr.net/gh/track23/blog-static/alu/%E5%93%AD%E6%B3%A3.png" alt="555"></p><p>valine真是让我无语了。这篇文章一直出不来评论框，找了10几分钟原因发现是代码块里不能写注释。。</p><p>在tg群看见别人给博客加上了暗色模式，搜索一番得出下面几个方案。</p><ul><li>prefers-color-scheme 媒体查询</li><li>给body加class</li><li><del>disabled配合备用css</del></li></ul><p>虽然媒体查询的方法好用 , 但是 不兼容低版本浏览器和系统 . 最重要的是不够灵活 .</p><p>disabled配合备用css 之前我用的就是这个方法 , 不需要动原css 操作方便 , 缺点就是增加了一个请求，并且按钮第一次点击没反应 . (不推荐使用)</p><p>安卓的暗色模式好像都是黑白高对比度的瞎眼模式 , oled屏幕再开启DC调光导致低亮度偏色,配合oled屏幕的纯黑背景的拖影…我用了一次就再也没有开启过暗色模式 . 各位选配色的时候记住不要学这种反面例子 .</p><p>win 10开启暗色模式 , 个性化–&gt;颜色–&gt;默认应用模式 .</p><h3 id="坑"><a href="#坑" class="headerlink" title="坑"></a>坑</h3><p><code>prefers-color-scheme</code> <strong>Safari（v12.1及以上版本），Chrome（v76及以上版本）和Firefox（v67及以上版本）</strong>都支持 .</p><p>我手机 ColorOS 7 , 安卓10 , 系统webview版本80 , 使用套壳的via浏览器发现这个媒体查询在vai上无效 . 测试了很多浏览器就chrome能正常显示 . 而且在不同安卓好像对app的暗色模式还有单独按钮开启 . 导致这个媒体查询几乎就是个摆设 .</p><p>在via的issues看见有人反馈过这个问题。开发者说3.9.9版本处理，但是我更新到这个版本也没效果。其他浏览器大概也是这个原因吧。</p><p>写了个测试页面 , 开启暗色模式后打开页面 , 看到的div背景色是粉色则说明不支持媒体查询 .</p><p>div下面3行文本是通过js判断暗色模式是否开启 , 如果开启了暗色模式 , 正常情况应该是输出 true false “dark” .</p> <a href="/test/dark.html" rel="external nofollow noreferrer" target="_blank" style="color:#ff1493">暗色模式是否正常测试页面</a> 请右键新标签打开查看 . 因为有pjax会直接在本页打开...<h3 id="prefers-color-scheme-媒体查询"><a href="#prefers-color-scheme-媒体查询" class="headerlink" title="prefers-color-scheme 媒体查询"></a>prefers-color-scheme 媒体查询</h3><p>这应该是省事的方案 , 但目前安卓手机上只有chrome支持。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="attribute">--background-color</span>: <span class="number">#ededed</span>;</span><br><span class="line">  <span class="attribute">--page-background</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">--text-color</span>: <span class="number">#212121</span>;</span><br><span class="line">  <span class="attribute">--color-alpha</span>: <span class="number">#c3423f</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">prefers-color-scheme:</span> dark) &#123;</span><br><span class="line">  <span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">    <span class="attribute">--background-color</span>: <span class="number">#111</span>;</span><br><span class="line">    <span class="attribute">--page-background</span>: <span class="number">#212121</span>;</span><br><span class="line">    <span class="attribute">--text-color</span>: <span class="number">#ededed</span>;</span><br><span class="line">    <span class="attribute">--color-alpha</span>: <span class="number">#50a8d8</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--background-color);</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--text-color);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这种方案就是在全局定义好 css的变量 , 媒体查询检测到系统是暗色模式就会给变量重新赋值 .</p><p>也可以不使用css变量,直接在媒体查询里写覆盖的样式.</p><h3 id="class"><a href="#class" class="headerlink" title="class"></a>class</h3><p>在媒体查询之前很多博客的暗色模式都是使用这个方案 . 不依赖媒体查询 .</p><p>参照几篇博客的文章折腾了一下 . 与上面的 媒体查询方案二选一 , 不要重复使用 .</p><p>参考过的文章好像都是动态博客 , 他们都使用cookie判断是否手动开启了暗色模式 , 但静态博客没必要使用cookie . 我改为使用localStorage . 并且 使用 <code>matchMedia(&#39;(prefers-color-scheme: dark)&#39;).matches</code> 判断当前环境是否暗色模式来兼容媒体查询方案 .。</p><p><strong>需要配合后面的js才有效</strong> . 原来的css不需要改动 , 覆盖的样式在css 选择器前面加上 body.dark</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span><span class="selector-class">.dark</span> &#123;<span class="attribute">background</span>: <span class="number">#2f3742</span>;&#125;</span><br><span class="line"><span class="selector-tag">body</span><span class="selector-class">.dark</span> <span class="selector-class">.aplayer</span>&#123;<span class="attribute">background</span>: <span class="number">#2f3742</span><span class="meta">!important</span>;&#125;</span><br><span class="line"><span class="selector-tag">body</span><span class="selector-class">.dark</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">filter</span>: <span class="built_in">brightness</span>(<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>aplayer valine要加<code>!important</code>才能让css生效。</p><p>这种方法也可以使用css变量 , 不过变量重新赋值不能写在媒体查询里 , 因为系统没有开启暗色模式就没办法重新赋值 . 可以在 :root body.dark 里重新赋值<del>可能记错了</del></p><p>虽然使用css变量很方便维护, 但是把原来固定的值一个个改为变量也很麻烦, 所以我选择不使用变量 , 直接写样式覆盖 . 全部替换我不敢用,一个颜色在几个地方使用就会出问题…</p><p><strong>与之前css配合的js部分</strong></p><p>在主题的layout.ejs文件中找到body标签的开始标签在后面加上这些js .</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;dark&#x27;</span>) === <span class="string">&#x27;1&#x27;</span>) &#123;</span><br><span class="line">  <span class="built_in">document</span>.body.classList.add(<span class="string">&#x27;dark&#x27;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">new</span> <span class="built_in">Date</span>().getHours() &gt;= <span class="number">22</span> || <span class="keyword">new</span> <span class="built_in">Date</span>().getHours() &lt; <span class="number">7</span>) &#123;</span><br><span class="line">  <span class="built_in">document</span>.body.classList.add(<span class="string">&#x27;dark&#x27;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (matchMedia(<span class="string">&#x27;(prefers-color-scheme: dark)&#x27;</span>).matches) &#123;</span><br><span class="line">  <span class="built_in">document</span>.body.classList.add(<span class="string">&#x27;dark&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>手动，时间范围，媒体查询我都用了. 有不需要的部分自行删减. 必须得是body开始标签后面，放head里不行，因为文档还没有渲染到body，放页面底部后面会导致页面闪白时间太长。没有使用pjax的博客建议不要给背景色变化加过渡，每个页面都是独立的，加了过渡动画会导致每次切换页面都播放过渡效果.</p><p>到这里利用class添加暗色模式已经完成了,其实和媒体查询方案差不多 , 只是覆盖原css的样式没有写在媒体查询里而已.</p><p><strong>暗色模式切换按钮</strong></p><p>屏幕左下角的小埋是手动开关，以前看到过别人博客底部的蕾姆，拉姆的至顶至底按钮正好合适拿来作夜间模式开关，翻友链里别人的博客，雷姆没有找到，小埋倒是有一只 .</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;xm&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;/images/xm.png&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>按钮的css</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#xm</span> &#123;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">0.3s</span> ease-in-out;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">3px</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#xm</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#xm</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>按钮的js , 添加到body底部或者独立的js文件都可以.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">switchNightMode</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> body = <span class="built_in">document</span>.body;</span><br><span class="line">  <span class="keyword">if</span>(body.classList.contains(<span class="string">&#x27;dark&#x27;</span>))&#123;</span><br><span class="line">    <span class="built_in">document</span>.body.classList.remove(<span class="string">&#x27;dark&#x27;</span>);</span><br><span class="line">    <span class="built_in">localStorage</span>.setItem(<span class="string">&#x27;dark&#x27;</span>,<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">document</span>.body.classList.add(<span class="string">&#x27;dark&#x27;</span>);</span><br><span class="line">    <span class="built_in">localStorage</span>.setItem(<span class="string">&#x27;dark&#x27;</span>,<span class="string">&#x27;1&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> xm = <span class="built_in">document</span>.getElementById(<span class="string">&quot;xm&quot;</span>);</span><br><span class="line">xm.onclick = switchNightMode;</span><br></pre></td></tr></table></figure><p>小埋的图右键从我这里另存为就可以了 . 自己搞个喜欢的按钮也行 .</p><p>同样是白色 #fff 在chrome下比firefox更暗，firefox不支持改变滚动条样式，简直丑爆了。</p><p>同一个局域网内 , <code>hexo s</code> 后在手机浏览器打开 <code>http://ip:4000</code> 就可以在手机上预览效果 . ip就是电脑的局域网ip .</p><p>折腾时参考过的文章如下</p><ul><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://qqdie.com/archives/night-mode-of-website.html">https://qqdie.com/archives/night-mode-of-website.html</a></li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://web.dev/prefers-color-scheme">https://web.dev/prefers-color-scheme</a></li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://imjad.cn/archives/code/add-night-mode-to-blog/">https://imjad.cn/archives/code/add-night-mode-to-blog/</a></li></ul></div><div class="entry-comments"><div class="comment"></div><script>var entry=document.getElementsByClassName("entry-comments")[0];function loadValine(){var n=document.createElement("script");n.type="text/javascript",n.onload=n.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(ldcallBack(),n.onload=n.onreadystatechange=null)},n.src="https://cdn.jsdelivr.net/gh/track23/blog-static/Valine.min.js",entry.appendChild(n)}function ldcallBack(){new Valine({el:".comment",lang:"zh-cn",emoticon_url:"https://cdn.jsdelivr.net/gh/track23/blog-static/alu",emoticon_list:["吐.png","喷血.png","狂汗.png","不说话.png","汗.png","坐等.png","献花.png","不高兴.png","中刀.png","害羞.png","皱眉.png","小眼睛.png","中指.png","尴尬.png","瞅你.png","想一想.png","中枪.png","得意.png","肿包.png","扇耳光.png","亲亲.png","惊喜.png","脸红.png","无所谓.png","便便.png","愤怒.png","蜡烛.png","献黄瓜.png","内伤.png","投降.png","观察.png","看不见.png","击掌.png","抠鼻.png","邪恶.png","看热闹.png","口水.png","抽烟.png","锁眉.png","装大款.png","吐舌.png","无奈.png","长草.png","赞一个.png","呲牙.png","无语.png","阴暗.png","不出所料.png","咽气.png","期待.png","高兴.png","吐血倒地.png","哭泣.png","欢呼.png","黑线.png","喜极而泣.png","喷水.png","深思.png","鼓掌.png","暗地观察.png"],app_id:"UqKcJNE0cBerSu52yLvC1qVs-gzGzoHsz",app_key:"cUR3tOdrBA0ULbONb8sfOipw",placeholder:"Write a Comment",admin_email_hash:"ed69c6079398441b73dbfdbbfc8cd196",max_nest:2,page_size:5})}var runningOnBrowser="undefined"!=typeof window,isBot=runningOnBrowser&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro|msn)bot|crawl|spider|yand|duckgo/i.test(navigator.userAgent),supportsIntersectionObserver=runningOnBrowser&&"IntersectionObserver"in window;setTimeout(function(){if(!isBot&&supportsIntersectionObserver){var e=new IntersectionObserver(function(n){n[0].isIntersecting&&(loadValine(),e.disconnect())},{threshold:[0]});e.observe(entry)}else loadValine()},1)</script></div><footer class="entry-footer"> <span class="icon-calendar"><a href="" rel="bookmark"><time class="updated" datetime="2019-11-01T15:29:00.000Z">2019-11-01</time></a></span> <span class="icon-folder"><a href="/categories/%E6%97%A5%E5%B8%B8/" rel="category tag">日常</a></span> <span class="icon-tags"><a href="/tags/Hexo/" rel="category tag">Hexo</a></span><span class="icon-eye"><span id="/daily/hexo%E6%B7%BB%E5%8A%A0%E6%9A%97%E8%89%B2%E6%A8%A1%E5%BC%8F.html" class="leancloud_visitors" data-flag-title="面向小白的Hexo添加暗色模式教程"></span></span></footer></article></main></div><footer id="colophon" class="site-footer"><div class="site-info"> <span>powered by <a href="https://hexo.io/" rel="external nofollow noreferrer" target="_blank">Hexo</a>&nbsp;&nbsp; theme by <a href="https://github.com/Troy-Yang/hexo-theme-twentyfifteen-wordpress" rel="external nofollow noreferrer" target="_blank">Troy</a> &nbsp; inspired by <a href="https://wordpress.org/themes/" rel="external nofollow noreferrer" target="_blank">wordpress</a></span></div><div class="xm" role="button">暗色模式开关</div><div id="landlord"><div class="message" style="opacity:0"></div><canvas id="live2d" width="220" height="340" class="live2d"></canvas></div><div class="misc"> <a href="#main"><span class="icon-angle-circled-up">Top</span></a></div></footer></div><script async pjax-reload src="https://hm.baidu.com/hm.js?6e7c5cd833e842d7c53b95ef61c1c5a5"></script><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@3.0.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script defer="defer" src="/js/track13.min.js"></script><script>window.imageLazyLoadSetting={isSPA:!1,processImages:null}</script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})})</script><script>!function(n){n.imageLazyLoadSetting.processImages=i;var e=n.imageLazyLoadSetting.isSPA,l=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function i(){e&&(l=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var r=0;r<l.length;r++)0<=(t=l[r].getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight||document.documentElement.clientHeight)&&function(t){var e,n,i,o,a=l[r];e=a,n=function(){l=l.filter(function(t){return a!==t})},i=new Image,o=e.getAttribute("data-original"),i.onload=function(){e.src=o,n()},i.src=o}();var t}i(),n.addEventListener("scroll",function(){var t,e;t=i,e=n,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this)</script></body></html>